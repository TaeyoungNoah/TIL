# TDD (숫자야구게임)

- Production Code 

  > 실제 사용하는 코드

- Test Code

  > 테스트 코드



## TDD != 단위 테스트

> Production Code 보다 Test Code를 먼저 만드는것!
>
> TDD = TFD(Test First Development) + **리펙토링**

- **TODOLIST를 잘 만드는 것**이 굉장히 중요



## TDD를 하는 이유

- 디버깅 시간을 줄여준다
- 동작하는 문서 역할을 한다
- 변화에 대한 두려움을 줄여준다



## TDD 사이클

> 아래 사이클을 계속 반복

1. Test fails

   > 실패하는 테스트를 구현한다

2. Test passes

   > 테스트가 성공하도록 프로덕션 코드를 구현한다

3. Refactor

   > 프로덕션 코드와 테스트 코드를 리펙토링한다



## TDD 원칙

> 너무 많은 부분을 예측해서 개발하지 말자. 딱 필요한 정도로만 프로덕션 코드를 작성하자

1. 실패하는 단위 테스트를 작성할 때까지 프로덕션 코드를 작성하지 않는다.
2. 컴파일은 실패하지 않으면서 실행이 실패하는 정도로만 단위 테스트를 작성한다.
3. 현재 실패하는 테스트를 통과할 정도로만 실제 코드를 작성한다.



## TDD 해보기

- **도메인 지식, 객체 설계 경험이 있는 경우**
  - 요구사항 분석을 통해 대략적인 설계 - 객체 추출
  - UI, DB 등과 의존관계를 가지지 않는 핵심 도메인 영역을 집중 설계
  - 1차적으로는 도메인 로직을 테스트하는 것에 집중



- **경험이 부족하고 잘 모르는 부분**
  - 구현할 기능 목록을 작성한 후에 TDD로 도전
  - 기능 목록을 작성하는 것도 역량이 필요! **연습이 필요**



- **그래도 모르겠다**
  - 단위 테스트도 없고, TDD도 아니고, 객체 설계도 하지 않고, 기능 목록을 분리하지 않고 지금까지 익숙한 방식으로 일단 구현
  - 구현하려는 프로그래밍의 도메인 지식을 쌓는다.
  - 구현한 모든 코드를 버린다.
  - 구현할 기능 목록 작성 또는 간단한 도메인 설계
  - 기능 목록 중 가장 만만한 녀석부터 TDD로 구현 시작
  - 복잡도가 높아져 리펙토링하기 힘든 상태가 되면 다시 버린다.
  - 다시 도전
  - **레거시 코드를 리펙토링하는 역량이 굉장히 중요하다!!**





## TDD

- TodoList를 만들 때 이후에 또 고칠 생각을 하고 만들자
- Utils의 성격을 가진 클래스가 TDD하기 쉽다
- Test 이름은 소통이 중요

- input과 output을 먼저 작성
- 클래스명과 메서드명을 먼저 적고 알트엔터 해서 거꾸로 만들어나감
- 기능 하나를 TDD로 리펙토링까지 다 해서 맘에 든 상태에서 커밋 한번
- 테스트할게 너무 방대하다면 더 작은 단위로 TDD를 할 수 있을지 고민해야함